
<button *ngIf="isLogin()" type="button" class="btn-admin btn btn-danger" [routerLink]="['/productos/formulario']" >+ Producto</button>
<i for="menu" ngbTooltip="Filtros"
(click)="showFilters()" class="btn-filtros fa-sharp fa-solid fa-filter"></i>
<!--Filtros -->
<div class="product_base">        
        <div clas="products_left"  >
                <form action="" #myForm="ngForm" >
                      <div class="filters" data-aos="slide-right" [style.display]="show ? 'block' : 'none'">
                              <div class="input-group">
                                      <div class="form-check">
                                              <input class="form-check-input" type="checkbox" name="discount" 
                                              id="discount" [(ngModel)]= "filter.Discount">
                                              <label  for="featured">
                                                      Con descuentos!
                                              </label>
                                      </div>
                              </div>
                              <div class="input-group">
                                      <div class="form-check">
                                              <input class="form-check-input" type="checkbox" name="featured" 
                                              id="featured" [(ngModel)]= "filter.Featured">
                                              <label  for="featured">
                                                      Destacados
                                              </label>
                                      </div>
                              </div>
                              <div class="input-group">
                                      <div class="form-check">
                                              <input class="form-check-input" type="checkbox" name="state" 
                                              id="featured" [(ngModel)]= "filter.State">
                                              <label for="state">
                                                      Disponibles
                                              </label>
                                      </div>
                              </div>
                              <hr>
      
                              <div class="input-group">
                                      <select class="custom-select"  name="category"  [(ngModel)]= "filter.CategoryId">
                                              <option [value]="null" selected="selected">Categorias</option>
                                              <option  *ngFor="let c of categories" [value]="c.CategoryId">{{c.Name}}</option>
                                      </select>
                              </div>
                              <div class="input-group">
                                      <select class="custom-select" name="marca"  [(ngModel)]= "filter.MarcaId">
                                              <option [value]="null" selected="selected">Marcas</option>
                                              <option  *ngFor="let m of marcas" [value]="m.MarcaId">{{m.Name}}</option>
                                      </select>
                              </div>
                              <div class="input-group">
                                      <select class="custom-select" #order (change)="setOrder(order.value)" >
                                              <option selected>Oredanr por</option>
                                              <option value="1">Precio: Menor a mayor</option>
                                              <option value="2">Precio: Mayor a menor</option>
                                              <option value="3">A-Z</option>
                                              <option value="4">Z-A</option>
                                      </select>
                              </div>
                              
                      </div> 
                </form>         
        </div>      
         <div class="products_rigth"  >                      
                <!--Productos -->
                <div class="productCard_rightSide" *ngFor="let p of products " >
                    <span *ngIf="p.DiscountAmount!=null"  class="block_specification__text" style="color: #f1425d; margin-right:5px;">{{p.DiscountAmount}} % OFF</span>
                    <div *ngIf="p.Featured" class="block_specification__informationShow hide" style="text-align: right; margin-bottom: 3%;">
                        <i class="fa-sharp fa-solid fa-star block_specification__button block_specification__button__jump"
                                                aria-hidden="true" style="color: rgb(204, 255, 0); margin-right:5px;"></i>
                    </div>
                    <div class="sliderBlock_items__itemPhoto ">
                            <img *ngIf="p.ImageName != null" [src]="'assets/' +  p.ImageName">
                            <img *ngIf="p.ImageName == null" [src]="'assets/' +  p.ImageName">
                    </div>                                                             
                    <div class="block_product">
                        <p class="block_model"><span style="font-size:0.7rem" class="block_model__number">Categoria {{p.CategoryName}}</span></p>
                        <p class="block_model"><span class="block_model__number">{{p.MarcaName}}</span></p>
                        <h2 class="block_name block_name__mainName">{{p.Name}}<sup>&reg; </sup></h2>
                         <!-- <h2 class="block_name block_name__addName">{{p.Description}}</h2>       -->
                        <div class="block_price" >
                          <p *ngIf="p.DiscountAmount==null"  class="block_price__currency">$ {{p.Price}}</p>
                          <div class="prices" *ngIf="p.DiscountAmount!=null">
                             <p  class="block_price__currency" style="text-decoration:line-through;">$ {{p.Price}}</p>
                             <p  class="block_price__currency" style="color:black"> $ {{p.Price - (p.Price * p.DiscountAmount /100)}}</p>
                          </div>
                        </div>
                        <button class="btn btn-info" *ngIf="!isLogin() && p.Stock">
                                Add to Cart
                        </button>   
                        <div class="btns-edit-prod" *ngIf="isLogin()" >
                                <button class="btn btn-success" (click)="edit(p.ProductId)" 
                                [routerLink]="['/productos/formulario']">
                                        Editar
                                </button> 
                                <button class="btn btn-danger" (click)="eliminar(p.ProductId)">
                                        Eliminar
                                </button> 
                        </div>                                       
                    </div>
                    <p *ngIf="!p.Stock" class="block_model agotado" style="text-align:center;"><span  class="block_model__number">AGOTADO!</span></p>

                </div>
                <br>
        </div>    
</div>

